window.Shopify.RecentlyViewed={},window.Shopify.RecentlyViewed={getConfig:function(){return{itemsGrid:parseInt(document.querySelector("[data-section-type='recently-viewed']").getAttribute("data-items-grid")),isSlider:"true"==document.querySelector("[data-section-type='recently-viewed']").getAttribute("data-slider-enable")}},recordRecentlyViewed:function(){let e=window.location.pathname.split("/products/")[1],t=window.localStorage.getItem("RecentlyViewed");t=t?JSON.parse(t):[],t.push(e),t=new Set(t),window.localStorage.setItem("RecentlyViewed",JSON.stringify(Array.from(t)))},fetchRecentlyViewed:async function(){let e=window.localStorage.getItem("RecentlyViewed");if(!document.querySelector("[data-section-type='recently-viewed']")||!e)return void(document.querySelector("[data-section-type='recently-viewed']").closest(".shopify-section").style.display="none");let t=[],n=this.getConfig(),i=document.querySelector("[data-section-type='recently-viewed']");if(e){e=JSON.parse(e);for(let n of e)t.push(fetch(`${window.Shopify.routes.root}products/${n}?view=recently-viewed`).then((e=>e.text())))}try{let e=await Promise.all(t),o=document.createDocumentFragment(),r=document.createElement("div");o.appendChild(r);for(let t of e){let e=document.createElement("div");e.innerHTML=t,e.querySelector(".recently-viewed-item")&&(r.innerHTML+=e.querySelector(".recently-viewed-item").innerHTML)}i.querySelector(".js-recently-viewed-list").innerHTML=r.innerHTML,n.isSlider}catch(e){console.log("Something went wrong! ",e)}}};